常见常用的linux命令
一，文件处理命令
	ls -l/-a 目录
		-a显示所有文件，包含隐藏
		-l显示详细
		-d查看目录的属性
		-h人性化大小显示
	ls -l时前面字母的意义：
	-文件,l软连接,d目录
	所有者权限user，所属组权限group，其他者权限other
	r:read=4
	w:write=2
	x:execute=1
mkdir
rmdir
cp -r复制目录
   -p保留文件属性
mv
rm -r删除目录
   -f强制执行
touch
cat -n显示行号
tac 反向显示cat
more 分页显示文件
less 分页显示，可向上翻页
head/tail -数字 显示文件前或后多少行
tail -f 动态显示文件末尾内容， 监控日志命令
ln -s 创建软连接（快接方式）
二，权限管理命令
chmod -R 递归修改 修改权限
chown 修改所有者，只有root可改
chgrp 修改文件所属组，只有root可改
umask 查看新建文件或目录的默认权限
三，文件搜索命令
find [范围] [选项] [匹配条件]
	-name 文件名查找
	-iname 不区分大小写
	-size +-n 大于或小于n的文件
	-user 文件所有者
	-group 所属组
	-cmin -5 5分钟内被修改过属性的文件或目录
	-amin -5 5分钟内被访问过的
	-mmin -5 5分钟内文件内容被改过
find 多条件查找
find /etc -name inittab -exec ls -l {}\;
在/etc下查找inittab文件并执行ls -l命令：-exec 命令 {}\; 固定格式
	-type 文件类型 -f 文件 -d目录 -l链接
	-inum 根据i节点查找
locate 速度非常快，需要locate命令包，在updatedb中查找
	tmp中的文件无法查找
	-i不区分大小写选项
which 搜索命令所在目录及别名信息，绝对路径
whereis 搜索命令所在目录及帮助文档路径
grep -iv 指定字符串 文件
在文件中查找字符串匹配的行并输出
四，帮助命令
man 命令
命令 --help简要显示帮助文档
help 命令，显示shell内置命令
whatis 
apropos 配置文件 的帮助
五，用户管理命令
useradd
passwd
who/w   tty本地用户
		pts远程用户
uptime服务器运行时间
六，压缩解压命令
.gz
gzip gunzip
.tar.gz
tar [选项] [打包压缩后的文件名] [目录] 打包目录
	-c打包
	-v显示详细
	-f指定文件名
	-z打包时压缩
	-x解包
.zip
zip unzip
.bz2
bzip2 大压缩比
与tar配合生成.tar.bz2
bunzip2解压
七，网络命令
write 用户名
ctrl+D保存发送
wall给所有在线用户发信 用于广播
ping
ifconfig
mail 用户名，给用户发邮件
last 查看最近用户登录信息及重启信息
lastlog 用户最后一次登录的信息
lastlog -u 用户uid 查看该用户
traceroute 目标ip网站 追踪节点访问路径
netstat -t TCP协议
		-U upp协议
		-l 监听
		-r 路由
		-n 显示ip地址和端口号
例：netstat -tlun 查看本机监听端口
			-an 查看本机所有网络端口
			-rn 查看本机路由表
setup （redhat专用）简易界面配置
service network restart重启网络工具

mount 挂载
umount 卸载
八，关机重启命令
shutdown -r重启 now现在或指定时间
		-h halt关机
		-c 取消前一个关机命令
runlevel查询系统运行级别inittab文件
init	0-关机
		1-单用户
		2-不完全单用户，不含NFC服务，网络文件系统
		3-完全多用户
		4-未分配
		5-图形界面
		6-重启
logout退出登录
九，rpm包命令
十，文件系统命令
df磁盘信息
du
fsck不用，系统自动运行
dumpe2fs 显示快大小数量
文件手工分区命令
fdisk -l 查看个盘
fdisk /dev/sdb（新硬盘名称） 进行对新盘分区
partprobe 分区后保存时强制执行，强制读分区表
格式化
mkfs -t ext4 目标分区
建立挂载点
自动挂载配置文件：/etc/fstab 重要系统文件
				修改后需立即执行mount -a自动挂载，不报错才可以
mount -o remount, rw /目录 重挂载修改权限
dump备份命令

输入输出重定向
>覆盖
>>追加

多命令书序执行
;顺序执行
&&顺序逻辑与，前序命令正确执行则继续执行后续命令
||顺序逻辑或，前序命令正确执行，后续不再执行，前序命令错误，则执行后续命令
例：命令 && echo yes || echo no
判断一个命令是否正确执行

dd if=输入文件 of=输出文件 bs=字节数（一次输入输出多少个字节数） count=数据块个数
例：date; dd ；date 统计执行耗时

管道符|
命令1 | 命令2
意识：命令1的正确输出作为命令2的操作对象
命令1必须有正确输出

常见的通配符
?匹配任意一个字符
*匹配0个或任意多个字符
[]匹配中括号中任意一个字符
[-]代表中括号中的一个范围

Bash中其他特殊字符
‘’单引号中的特殊符号没有特殊含义，只是个符号
“”双引号中的特殊符号有特殊意义
``反引号与$(命令)一样，引用系统命令
#在shell脚本中代表注释
$在调用变量后调用变量的值
\转义符，把特殊符号的特殊意义注释掉，让其当做普通字符

Linux 系统备份与还原
1，需要备份的数据
	/root/目录
	/home/
	/var/spool/mail
	/etc/
	其他目录--有特殊作用的
2，安装服务的数据
	*apache需要备份的数据
	配置文件
	网页主目录
	日志文件
	*mysql
	源码包安装的mysql:usr/local/mysql/data/
	rpm包安装的mysql:var/lib/mysql/
3，备份策略
	1，完全备份
	2，增量备份--只增加备份新增数据，与此前备份一直累计，恢复比较麻烦
	3，差异备份--备份与第一次的差异数据，与第一次备份累计，使用比较少
4，备份与恢复命令
	dump与restore
	dump [选项] 备份之后的文件名 源文件或目录
		-level:0-9
		-f制定文件名
		备份文件或目录只能用0级别，备份分区可以用增量备份，1-9级别
	restore[模式选项][选项]
		-C：比较备份数据与实际数据的变化
		-i：进入交互模式，手工选择需要恢复的文件
		-t：查看模式，用于查看备份文件中拥有哪些数据
		-r：还原模式，用于数据还原
		选项：
		-f 指定备份文件的文件名
	注：增量备份的恢复应层层恢复

Linux服务管理
分类：
	rpm包安装的服务：
		独立的服务:/etc/init.d启动脚本
		xinetd管理的服务/etc/xinetd.d启动脚本
	源码包安装的服务
		/usr/local/下对应的
1，chkconfig --list 查看服务自启动状态rpm包安装的服务
2，源码包安装的服务：一般是/usr/local/下
3，独立服务的启动
	1，路径—命令 start/stop/status/restart
	2，service 服务 start/stop/status/restart, 只用于redhat系统
	3，查询service status -all
4，独立服务的自启动管理
	chkconfig [--level运行级别][独立服务名][on/off]
	修改/etc/rc.d/rc.local文件---推荐使用此方法
	使用ntsysv命令管理自启动
5，基于xinetd的服务，超级守护进程
	在现在系统中该服务用的越来越少
	启动和自启动是通的，启动一个服务时，会变成自启动
	
进程管理目的
	判断服务器健康状态
	查看系统中所有进程
	杀死进程，应先尝试正常关闭进程
1，ps	aux 使用BSD格式显示所有进程
		-le 使用linux标准格式显示所有进程
2，top 查看健康状态
3，pstree查看进程树
4，终止进程命令
	kill -l 显示可用信号
	常用信号-1重启进程，-9强制关闭，-15
	kill pid 终止对应pid的进程
	killall [选项][信号]进程名，按进程名关闭进程
	pkill [信号] -t 终端号，按照终端号踢掉用户

